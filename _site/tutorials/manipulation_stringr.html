<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Bradley Boehmke</title>
    <meta name="description" content="">

    <link rel="stylesheet" href="http://bradleyboehmke.github.io//css/main.css">
    <link rel="canonical" href="http://bradleyboehmke.github.io/http://bradleyboehmke.github.io//tutorials/manipulation_stringr">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="http://bradleyboehmke.github.io/">Bradley Boehmke</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="http://bradleyboehmke.github.io//about/">About</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="http://bradleyboehmke.github.io//categoryview/">Archive</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="http://bradleyboehmke.github.io//cv/">CV</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="http://bradleyboehmke.github.io//tutorials/">Tutorials</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="http://bradleyboehmke.github.io//tutorials/scraping_with_apis_DSCOE.Rmd">Scraping Data with APIs</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <article class="post-content">
    <p><a href="index">R Vocab Topics</a> » <a href="characters">Character Strings</a> » <a href="string_manipulation">String manipulation</a> » Manipulation with stringr package</p>

<p><br /></p>

<p>The <code class="highlighter-rouge">stringr</code> package was developed by Hadley Wickham to act as simple wrappers that make R’s string functions more consistent, simpler, and easier to use.<sup><a href="#fn1" id="ref1">1</a></sup></p>

<ul>
  <li><a href="#install">Install <code class="highlighter-rouge">stringr</code> package</a></li>
  <li><a href="#basic">Basic operations</a></li>
  <li><a href="#duplicate">Duplicate characters within a string</a></li>
  <li><a href="#trim">Remove leading and trailing whitespace</a></li>
  <li><a href="#pad">Pad a string with whitespace</a></li>
</ul>

<p><br /></p>

<p><a name="install"></a></p>

<h1 id="install-stringr-package">Install stringr Package</h1>
<p>To install and load the <code class="highlighter-rouge">stringr</code> package</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># install stringr package
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"stringr"</span><span class="p">)</span>

<span class="c1"># load package
</span><span class="n">library</span><span class="p">(</span><span class="n">stringr</span><span class="p">)</span></code></pre></figure>

<p>For more information on getting help with packages visit <a href="http://bradleyboehmke.github.io/tutorials/basics/packages/">here</a>.</p>

<p><br /></p>

<p><a name="basic"></a></p>

<h1 id="basic-operations">Basic Operations</h1>
<p>There are three string functions that are closely related to their base R equivalents, but with a few enhancements:</p>

<ul>
  <li>Concatenate with <a href="#str_c"><code class="highlighter-rouge">str_c()</code></a></li>
  <li>Number of characters with <a href="#str_length"><code class="highlighter-rouge">str_length()</code></a></li>
  <li>Substring with <a href="#str_sub"><code class="highlighter-rouge">str_sub()</code></a></li>
</ul>

<p><br /></p>

<p><a name="str_c"></a>
<code class="highlighter-rouge">str_c()</code> is equivalent to the <code class="highlighter-rouge">paste()</code> functions:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># same as paste0()
</span><span class="n">str_c</span><span class="p">(</span><span class="s2">"Learning"</span><span class="p">,</span> <span class="s2">"to"</span><span class="p">,</span> <span class="s2">"use"</span><span class="p">,</span> <span class="s2">"the"</span><span class="p">,</span> <span class="s2">"stringr"</span><span class="p">,</span> <span class="s2">"package"</span><span class="p">)</span>
<span class="c1">## [1] "Learningtousethestringrpackage"
</span>
<span class="c1"># same as paste()
</span><span class="n">str_c</span><span class="p">(</span><span class="s2">"Learning"</span><span class="p">,</span> <span class="s2">"to"</span><span class="p">,</span> <span class="s2">"use"</span><span class="p">,</span> <span class="s2">"the"</span><span class="p">,</span> <span class="s2">"stringr"</span><span class="p">,</span> <span class="s2">"package"</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">" "</span><span class="p">)</span>
<span class="c1">## [1] "Learning to use the stringr package"
</span>
<span class="c1"># allows recycling 
</span><span class="n">str_c</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="s2">" is for"</span><span class="p">,</span> <span class="s2">"..."</span><span class="p">)</span>
<span class="c1">##  [1] "a is for..." "b is for..." "c is for..." "d is for..." "e is for..."
##  [6] "f is for..." "g is for..." "h is for..." "i is for..." "j is for..."
## [11] "k is for..." "l is for..." "m is for..." "n is for..." "o is for..."
## [16] "p is for..." "q is for..." "r is for..." "s is for..." "t is for..."
## [21] "u is for..." "v is for..." "w is for..." "x is for..." "y is for..."
</span><span class="err">##</span> <span class="p">[</span><span class="m">26</span><span class="p">]</span> <span class="s2">"z is for..."</span></code></pre></figure>

<p><br /></p>

<p><a name="str_length"></a>
<code class="highlighter-rouge">str_length()</code> is similiar to the <code class="highlighter-rouge">nchar()</code> function; however, <code class="highlighter-rouge">str_length()</code> behaves more appropriately with missing (‘NA’) values:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># some text with NA
</span><span class="n">text</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="s2">"Learning"</span><span class="p">,</span> <span class="s2">"to"</span><span class="p">,</span> <span class="n">NA</span><span class="p">,</span> <span class="s2">"use"</span><span class="p">,</span> <span class="s2">"the"</span><span class="p">,</span> <span class="n">NA</span><span class="p">,</span> <span class="s2">"stringr"</span><span class="p">,</span> <span class="s2">"package"</span><span class="p">)</span>

<span class="c1"># compare `str_length()` with `nchar()`
</span><span class="n">nchar</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="c1">## [1] 8 2 2 3 3 2 7 7
</span>
<span class="n">str_length</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="err">##</span> <span class="p">[</span><span class="m">1</span><span class="p">]</span>  <span class="m">8</span>  <span class="m">2</span> <span class="n">NA</span>  <span class="m">3</span>  <span class="m">3</span> <span class="n">NA</span>  <span class="m">7</span>  <span class="m">7</span></code></pre></figure>

<p><br /></p>

<p><a name="str_sub"></a>
<code class="highlighter-rouge">str_sub()</code> is similar to <code class="highlighter-rouge">substr()</code>; however, it returns a zero length vector if any of its inputs are zero length, and otherwise expands each argument to match the longest. It also accepts negative positions, which are calculated from the left of the last character.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span> <span class="o">&lt;-</span> <span class="s2">"Learning to use the stringr package"</span>

<span class="c1"># alternative indexing
</span><span class="n">str_sub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">start</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="m">15</span><span class="p">)</span>
<span class="c1">## [1] "Learning to use"
</span>
<span class="n">str_sub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="m">15</span><span class="p">)</span>
<span class="c1">## [1] "Learning to use"
</span>
<span class="n">str_sub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">start</span> <span class="o">=</span> <span class="m">17</span><span class="p">)</span>
<span class="c1">## [1] "the stringr package"
</span>
<span class="n">str_sub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">start</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">17</span><span class="p">),</span> <span class="n">end</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="m">15</span><span class="p">,</span> <span class="m">35</span><span class="p">))</span>
<span class="c1">## [1] "Learning to use"     "the stringr package"
</span>
<span class="c1"># using negative indices for start/end points from end of string
</span><span class="n">str_sub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">start</span> <span class="o">=</span> <span class="m">-1</span><span class="p">)</span>
<span class="c1">## [1] "e"
</span>
<span class="n">str_sub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">start</span> <span class="o">=</span> <span class="m">-19</span><span class="p">)</span>
<span class="c1">## [1] "the stringr package"
</span>
<span class="n">str_sub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="m">-21</span><span class="p">)</span>
<span class="c1">## [1] "Learning to use"
</span>
<span class="c1"># Replacement
</span><span class="n">str_sub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="m">15</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="s2">"I know how to use"</span>
<span class="n">x</span>
<span class="err">##</span> <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s2">"I know how to use the stringr package"</span></code></pre></figure>

<p><br /></p>

<p><a name="duplicate"></a></p>

<h1 id="duplicate-characters-within-a-string">Duplicate Characters within a String</h1>
<p>A new functionality that stringr provides in which base R does not have a specific function for is character duplication:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">str_dup</span><span class="p">(</span><span class="s2">"beer"</span><span class="p">,</span> <span class="n">times</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span>
<span class="c1">## [1] "beerbeerbeer"
</span>
<span class="n">str_dup</span><span class="p">(</span><span class="s2">"beer"</span><span class="p">,</span> <span class="n">times</span> <span class="o">=</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">)</span>
<span class="c1">## [1] "beer"         "beerbeer"     "beerbeerbeer"
</span>

<span class="c1"># use with a vector of strings
</span><span class="n">states_i_luv</span> <span class="o">&lt;-</span> <span class="n">state.name</span><span class="p">[</span><span class="n">c</span><span class="p">(</span><span class="m">6</span><span class="p">,</span> <span class="m">23</span><span class="p">,</span> <span class="m">34</span><span class="p">,</span> <span class="m">35</span><span class="p">)]</span>
<span class="n">str_dup</span><span class="p">(</span><span class="n">states_i_luv</span><span class="p">,</span> <span class="n">times</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
<span class="c1">## [1] "ColoradoColorado"         "MinnesotaMinnesota"      
</span><span class="err">##</span> <span class="p">[</span><span class="m">3</span><span class="p">]</span> <span class="s2">"North DakotaNorth Dakota"</span> <span class="s2">"OhioOhio"</span></code></pre></figure>

<p><br /></p>

<p><a name="trim"></a></p>

<h1 id="remove-leading-and-trailing-whitespace">Remove Leading and Trailing Whitespace</h1>
<p>A common task of string processing is that of parsing text into individual words.  Often, this results in words having blank spaces (whitespaces) on either end of the word. The <code class="highlighter-rouge">str_trim()</code> can be used to remove these spaces:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">text</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s2">"Text "</span><span class="p">,</span> <span class="s2">"  with"</span><span class="p">,</span> <span class="s2">" whitespace "</span><span class="p">,</span> <span class="s2">" on"</span><span class="p">,</span> <span class="s2">"both "</span><span class="p">,</span> <span class="s2">" sides "</span><span class="p">)</span>

<span class="c1"># remove whitespaces on the left side
</span><span class="n">str_trim</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">side</span> <span class="o">=</span> <span class="s2">"left"</span><span class="p">)</span>
<span class="c1">## [1] "Text "       "with"        "whitespace " "on"          "both "      
## [6] "sides "
</span>
<span class="c1"># remove whitespaces on the right side
</span><span class="n">str_trim</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">side</span> <span class="o">=</span> <span class="s2">"right"</span><span class="p">)</span>
<span class="c1">## [1] "Text"        "  with"      " whitespace" " on"         "both"       
## [6] " sides"
</span>
<span class="c1"># remove whitespaces on both sides
</span><span class="n">str_trim</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">side</span> <span class="o">=</span> <span class="s2">"both"</span><span class="p">)</span>
<span class="c1">## [1] "Text"       "with"       "whitespace" "on"         "both"      
</span><span class="err">##</span> <span class="p">[</span><span class="m">6</span><span class="p">]</span> <span class="s2">"sides"</span></code></pre></figure>

<p><br /></p>

<p><a name="pad"></a></p>

<h1 id="pad-a-string-with-whitespace">Pad a String with Whitespace</h1>
<p>To add whitespace, or to <em>pad</em> a string, use <code class="highlighter-rouge">str_pad()</code>:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">str_pad</span><span class="p">(</span><span class="s2">"beer"</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span> <span class="n">side</span> <span class="o">=</span> <span class="s2">"left"</span><span class="p">)</span>
<span class="c1">## [1] "      beer"
</span>
<span class="n">str_pad</span><span class="p">(</span><span class="s2">"beer"</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span> <span class="n">side</span> <span class="o">=</span> <span class="s2">"both"</span><span class="p">)</span>
<span class="c1">## [1] "   beer   "
</span>
<span class="n">str_pad</span><span class="p">(</span><span class="s2">"beer"</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span> <span class="n">side</span> <span class="o">=</span> <span class="s2">"right"</span><span class="p">,</span> <span class="n">pad</span> <span class="o">=</span> <span class="s2">"!"</span><span class="p">)</span>
<span class="err">##</span> <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s2">"beer!!!!!!"</span></code></pre></figure>

<p><br /></p>

<p><small><a href="#">Go to top</a></small></p>

<p><br />
<br />
<sup id="fn1">1. <a href="http://cran.r-project.org/web/packages/stringr/index.html">stringr Package Documentation</a><a href="#ref1" title="Jump back to footnote 1 in the text.">“↩”</a><sup></sup></sup></p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">

      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
        <center>
          <li>
            <a href="https://github.com/bradleyboehmke">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>
            </a>
            &nbsp;
            <a href="http://www.twitter.com/bradleyboehmke">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>
            </a>
            &nbsp;
            <a href="https://www.linkedin.com/in/brad-boehmke-ph-d-9b0a257">
              <span class="icon  icon--linkedin">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"  width="25" height="25" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path fill="#828282" d="M13.632 13.635h-2.37V9.922c0-.886-.018-2.025-1.234-2.025-1.235 0-1.424.964-1.424 1.96v3.778h-2.37V6H8.51V7.04h.03c.318-.6 1.092-1.233 2.247-1.233 2.4 0 2.845 1.58 2.845 3.637v4.188zM3.558 4.955c-.762 0-1.376-.617-1.376-1.377 0-.758.614-1.375 1.376-1.375.76 0 1.376.617 1.376 1.375 0 .76-.617 1.377-1.376 1.377zm1.188 8.68H2.37V6h2.376v7.635zM14.816 0H1.18C.528 0 0 .516 0 1.153v13.694C0 15.484.528 16 1.18 16h13.635c.652 0 1.185-.516 1.185-1.153V1.153C16 .516 15.467 0 14.815 0z" fill-rule="nonzero"/>
                </svg>
              </span>
            </a>
          </li>

        </ul>
        </center>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text"></p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
