---
id: 409
title: Colors in R
date: 2011-10-17T16:05:06+00:00
author: admin
layout: post
guid: http://simplystatistics.wordpress.com/2011/10/17/colors-in-r
permalink: /2011/10/17/colors-in-r/
tumblr_simplystatistics_permalink:
  - http://simplystatistics.tumblr.com/post/11573348494/colors-in-r
tumblr_simplystatistics_id:
  - 11573348494
dsq_thread_id:
  - 934996421
categories:
  - Uncategorized
tags:
  - R
---
One of my favorite R packages that I use all the time is the <a href="http://cran.r-project.org/package=RColorBrewer" target="_blank">RColorBrewer</a> package. The package has been around for a while now and is written/maintained by Erich Neuwirth. The guts of the package are based on <a href="http://www.personal.psu.edu/cab38/" target="_blank">Cynthia Brewer&#8217;s</a> very cool work on the use of color in cartography (check out the <a href="http://colorbrewer2.org/" target="_blank">colorbrewer web site)</a>.

As a side note, I think the ability to manipulate colors in plots/graphs/maps is one of R&#8217;s many great strengths. My personal experience is that getting the right color scheme can make a difference in how data are perceived in a plot.

<!-- more -->RColorBrewer basically provides one function, brewer.pal, that generates different types of color palettes. There are three types of palettes: sequential, diverging, and qualitative. Roughly speaking, sequential palettes are for continuous data where low is less important and high is more important, diverging palettes are for continuous data where both low and high are important (i.e. deviation from some reference point), and qualitative palettes are for categorical data where there is no logical order (i.e. male/female).

To use the brewer.pal function, it&#8217;s often useful to combine it with another R function, colorRampPalette. This function is built into R and is part of the grDevices package. It takes a palette of colors and interpolates between the colors to give you an entire spectrum. Think of a painter&#8217;s palette with 4 or 5 color blotches on it, and then think of the painter taking a brush and blending the colors together. That&#8217;s what colorRampPalette does. So brewer.pal gives you the colors and colorRampPalette mashes them together. It&#8217;s a happy combination.

So, how do we use these functions? My basic approach is to first set the palette depending on the type of data. Suppose we have continuous sequential data and we want the &#8220;Blue-Purple&#8221; palette

<pre>colors &lt;- brewer.pal(4, "BuPu")
</pre>

Here, I&#8217;ve taken 4 colors from the &#8220;BuPu&#8221; palette, so there are now 4 blotches on my palette. To interpolate these colors, I can call colorRampPalette, which actually returns a _function_.

<pre>pal &lt;- colorRampPalette(colors)
</pre>

Now, pal is a function that takes a positive integer argument and returns that number of colors from the palette. So for example

<pre>&gt; pal(5)
[1] "#EDF8FB" "#C1D7E9" "#9FB1D4" "#8B80BB" "#88419D"
</pre>

I got 5 different colors from the palette, with their red, green, and blue values coded in hexadecimal. If I wanted 20 colors I could have called pal(20).

The pal function is useful in other functions like image or wireframe (in the lattice package). In both of those functions, the &#8216;col&#8217; argument can be given a set of colors generated by the pal function. For example, you could call

<pre>data(volcano)
image(volcano, col = pal(30))
</pre>

and you would plot the &#8216;volcano&#8217; data using 30 colors from the &#8220;BuPu&#8221; palette.

If you&#8217;re wondering what all the different palettes are and what colors are in them, here&#8217;s a handy reference:

![](http://media.tumblr.com/tumblr_lsyvc6tZ9U1r08wvg.jpg)

Or you can just call

<pre>display.brewer.all()</pre>

There&#8217;s been a lot of interesting work done on colors in R and this is just scratching the surface. I&#8217;ll probably return to this subject in a future post.