---
id: 3052
title: 10 things statistics taught us about big data analysis
date: 2014-05-22T11:37:41+00:00
author: Jeff Leek
layout: post
guid: http://simplystatistics.org/?p=3052
permalink: /2014/05/22/10-things-statistics-taught-us-about-big-data-analysis/
al2fb_facebook_link_id:
  - 136171103105421_648883391834187
al2fb_facebook_link_time:
  - 2014-05-22T15:37:48+00:00
al2fb_facebook_link_picture:
  - post=http://simplystatistics.org/wp-content/uploads/2014/05/loess.gif
dsq_thread_id:
  - 2704999761
categories:
  - Uncategorized
---
In [my previous post](http://simplystatistics.org/2014/05/07/why-big-data-is-in-trouble-they-forgot-about-applied-statistics/) I pointed out a major problem with big data is that applied statistics have been left out. But many cool ideas in applied statistics are really relevant for big data analysis. So I thought I'd try to answer the second question in my previous post: _"When thinking about the big data era, what are some statistical ideas we've already figured out?"_ Because the internet loves top 10 lists I came up with 10, but there are more if people find this interesting. Obviously mileage may vary with these recommendations, but I think they are generally not a bad idea.

  1. **If the goal is prediction accuracy, average many prediction models together**. In general, the prediction algorithms that most frequently win Kaggle competitions or the Netflix prize [blend multiple models together](http://en.wikipedia.org/wiki/Ensemble_learning). The idea is that by averaging (or majority voting) multiple good prediction algorithms you can reduce variability without giving up bias. One of the earliest descriptions of this idea was of a much simplified version based on [bootstrapping samples](http://en.wikipedia.org/wiki/Bootstrapping_(statistics)) and building multiple prediction functions - a [process called bagging](http://statistics.berkeley.edu/sites/default/files/tech-reports/421.pdf) (short for bootstrap aggregating). [Random forests](http://en.wikipedia.org/wiki/Random_forest), another incredibly successful prediction algorithm, is based on a similar idea with classification trees.
  2. **When testing many hypotheses, correct for multiple testing** [This comic](http://xkcd.com/882/) points out the problem with standard hypothesis testing when many tests are performed. Classic hypothesis tests are designed to call a set of data significant 5% of the time, even when the null is true (e.g. nothing is going on). One really common choice for correcting for multiple testing is to use [the false discovery rate](http://en.wikipedia.org/wiki/False_discovery_rate) to control the rate at which things you call significant are false discoveries. People like this measure because you can think of it as the rate of noise among the signals you have discovered. Benjamini and Hochber gave the f[irst definition of the false discovery rate and provided a procedure to control the FDR](http://www.stat.purdue.edu/~doerge/BIOINFORM.D/FALL06/Benjamini%20and%20Y%20FDR.pdf). There is also a really readable introduction to FDR by [Storey and Tibshirani](http://www.pnas.org/content/100/16/9440.full).
  3. **When you have data measured over space, distance, or time, you should smooth **This is one of the oldest ideas in statistics (regression is a form of smoothing and Galton [popularized that a while ago](http://en.wikipedia.org/wiki/Regression_toward_the_mean)). I personally like locally weighted scatterplot smoothing a lot.  [This paper](http://www.people.fas.harvard.edu/~gov2000/Handouts/lowess.pdf)is a good one by Cleveland about loess. Here it is in a gif. <a href="http://simplystatistics.org/2014/02/13/loess-explained-in-a-gif/" rel="attachment wp-att-3069"><img class=" wp-image-3069 aligncenter" alt="loess" src="http://simplystatistics.org/wp-content/uploads/2014/05/loess.gif" width="202" height="202" /></a>But people also like [smoothing splines](http://en.wikipedia.org/wiki/Smoothing_spline), [Hidden Markov Models](http://en.wikipedia.org/wiki/Hidden_Markov_model), [moving averages](http://en.wikipedia.org/wiki/Moving_average) and many other smoothing choices.
  4. **Before you analyze your data with computers, be sure to plot it** A common mistake made by amateur analysts is to immediately jump to fitting models to big data sets with the fanciest computational tool. But you can miss pretty obvious things [like this ](http://en.wikipedia.org/wiki/Anscombe's_quartet)if you don't plot your data. <a href="http://en.wikipedia.org/wiki/File:Bland-altman_plot.png" rel="attachment wp-att-3068"><img class=" wp-image-3068 aligncenter" alt="ba" src="http://simplystatistics.org/wp-content/uploads/2014/05/ba.png" width="288" height="288" srcset="http://simplystatistics.org/wp-content/uploads/2014/05/ba-150x150.png 150w, http://simplystatistics.org/wp-content/uploads/2014/05/ba-300x300.png 300w, http://simplystatistics.org/wp-content/uploads/2014/05/ba.png 600w" sizes="(max-width: 288px) 100vw, 288px" /></a>There are too many plots to talk about individually, but one example of an incredibly important plot is the [Bland-Altman plot,](http://en.wikipedia.org/wiki/Bland%E2%80%93Altman_plot) (called an MA-plot in genomics) when comparing measurements from multiple technologies. R provides tons of graphics for a reason and <a style="font-size: 16px;" href="http://ggplot2.org/">ggplot2</a> makes them pretty.
  5. **Interactive analysis is the best way to really figure out what is going on in a data set** This is related to the previous point; if you want to understand a data set you have to be able to play around with it and explore it. You need to make tables, make plots, identify quirks, outliers, missing data patterns and problems with the data. To do this you need to interact with the data quickly. One way to do this is to analyze the whole data set at once using tools like Hive, Hadoop, or Pig. But an often easier, better, and more cost effective approach is to use random sampling . As Robert Gentleman put it "[make big data as small as possible as quick as possible](https://twitter.com/EllieMcDonagh/status/469184554549248000)".
  6. **Know what your real sample size is. ** It can be easy to be tricked by the size of a data set. Imagine you have an image of a simple black circle on a white background stored as pixels. As the resolution increases the size of the data increases, but the amount of information may not (hence [vector graphics](http://en.wikipedia.org/wiki/Vector_graphics)). Similarly in genomics, the number of reads you measure (which is a main determinant of data size) is not the sample size, it is the number of individuals. In social networks, the number of people in the network may not be the sample size. If the network is very dense, the sample size [might be much less](http://arxiv.org/pdf/1112.0840.pdf). In general the bigger the sample size the better and sample size and data size aren't always tightly correlated.
  7. **Unless you ran a randomized trial, potential confounders should keep you up at night **Confounding is maybe the most fundamental idea in statistical analysis. It is behind the [spurious correlations](http://www.tylervigen.com/) like these and the reason why nutrition studies [are so hard](http://fivethirtyeight.com/features/eat-more-nuts-and-vegetables-and-dont-forget-to-exercise-and-quit-smoking/). It is very hard to hold people to a randomized diet and people who eat healthy diets might be different than people who don't in other important ways. In big data sets confounders might be [technical variables](http://www.cis.jhu.edu/publications/papers_in_database/GEMAN/Geman_NatureReviews_2010.pdf) about how the data were measured or they could be [differences over time in Google search terms](http://gking.harvard.edu/files/gking/files/0314policyforumff.pdf). Any time you discover a cool new result, your first thought should be, "what are the potential confounders?"<a href="http://xkcd.com/552/" rel="attachment wp-att-3067"><img class=" wp-image-3067 aligncenter" alt="correlation" src="http://simplystatistics.org/wp-content/uploads/2014/05/correlation.png" width="275" height="111" /></a>
  8. **Define a metric for success up front** Maybe the simplest idea, but one that is critical in statistics and [decision theory](http://en.wikipedia.org/wiki/Decision_theory). Sometimes your goal is to discover new relationships and that is great if you define that up front. One thing that applied statistics has taught us is that changing the criteria you are going for after the fact is really dangerous. So when you find a correlation, don't assume you can predict a new result or that you have discovered which way a causal arrow goes.
  9. **Make your code and data available and have smart people check it** As several people pointed out about my last post, the Reinhart and Rogoff problem did not involve big data. But even in this small data example, there was a bug in the code used to analyze them. With big data and complex models this is even more important. Mozilla Science is [doing interesting work](http://mozillascience.org/code-review-for-science-what-we-learned/) on code review for data analysis in science. But in general if you just get a friend to look over your code it will catch a huge fraction of the problems you might have.
 10. **[Problem first not solution backward ](http://simplystatistics.org/2013/05/29/what-statistics-should-do-about-big-data-problem-forward-not-solution-backward/)**One temptation in applied statistics is to take a tool you know well (regression) and use it to hit all the nails (epidemiology problems). <a href="http://simplystatistics.org/2014/05/22/10-things-statistics-taught-us-about-big-data-analysis/hitnails/" rel="attachment wp-att-3066"><img class=" wp-image-3066 aligncenter" alt="hitnails" src="http://simplystatistics.org/wp-content/uploads/2014/05/hitnails.png" width="288" height="216" srcset="http://simplystatistics.org/wp-content/uploads/2014/05/hitnails-300x225.png 300w, http://simplystatistics.org/wp-content/uploads/2014/05/hitnails.png 800w" sizes="(max-width: 288px) 100vw, 288px" /></a>There is a similar temptation in big data to get fixated on a tool (hadoop, pig, hive, nosql databases, distributed computing, gpgpu, etc.) and ignore the problem of can we infer x relates to y or that x predicts y.